var AuthorDatalistElement=function(){"use strict";window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-datalist> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base")),function(){let t=Array.from(new Set(["author-menu","author-options","author-option"])).filter(t=>!customElements.get(t));t.length>0&&(console.error(`[ERROR] <author-datalist> Required dependenc${1!==t.length?"ies":"y"} not found: ${t.map(t=>`<${t}>`).join(", ").replace(", "+t[t.length-1]," and "+t[t.length-1])}`),t.forEach((t,e)=>console.info(`${e+1}. <${t}> is available at ${"https://github.com/author-elements/datalist".replace("datalist",t.replace("author-",""))}`)))}();class t extends AuthorMenuElement{constructor(){super('<template><style>@charset "UTF-8"; :host{display:inline-flex;max-width:100%}:host *,:host :after,:host :before{box-sizing:border-box}:host ::slotted(author-options){height:0;overflow:hidden}:host([open]) ::slotted(author-options){height:auto}author-datalist{display:inline-flex;max-width:100%}author-datalist *,author-datalist :after,author-datalist :before{box-sizing:border-box}author-datalist author-options{height:0;overflow:hidden}author-datalist[open] author-options{height:auto}</style><slot name="afterbegin"></slot><slot name="beforeinput"></slot><slot name="input"></slot><slot name="afterinput"></slot><slot name="beforeselectedoptions"></slot><slot name="selectedoptions"></slot><slot name="afterselectedoptions"></slot><slot name="beforeoptions"></slot><slot name="options"></slot><slot name="afteroptions"></slot><slot name="beforeend"></slot></template>'),this.UTIL.defineAttributes({"case-sensitive":!1,"force-open":!1}),this.UTIL.definePrivateMethods({hideAllOptions:()=>Array.from(this.options).forEach(t=>t.setAttribute("hidden","")),inputFocusHandler:t=>{this.inputElement.addEventListener("keydown",this.PRIVATE.inputKeydownHandler)},clearFilter:()=>{this.optionsElement.hasFilter("query")&&(this.optionsElement.removeFilter("query"),this.selectedIndex=-1)},filterInput:()=>{this.PRIVATE.clearFilter();let t=this.inputElement.value;if(!t||""===t)return this.PRIVATE.showAllOptions(),this.PRIVATE.clearFilter();this.optionsElement.addFilter("query",()=>{let e=this.optionsElement.find(t,this["case-sensitive"]);return e.length?e:this.options}),this.PRIVATE.hideAllOptions(),this.optionsElement.filteredOptions.length>0?(this.optionsElement.filteredOptions.forEach(t=>t.hidden=!1),this.open=!0):this.open=!1},inputKeydownHandler:t=>{switch(t[this.keySource]){case 13:case"Enter":case 27:case"Escape":case 38:case"ArrowUp":case 40:case"ArrowDown":break;case 32:case" ":return;case 8:case"Backspace":1===this.inputElement.value.length&&(this.open=!1)}this.PRIVATE.keydownHandler(t)},showAllOptions:()=>Array.from(this.options).forEach(t=>t.removeAttribute("hidden"))}),this.UTIL.registerListeners(this,{connected:()=>{this.UTIL.registerListeners(this.inputElement,{focus:this.PRIVATE.inputFocusHandler,blur:t=>{this.inputElement.removeEventListener("keydown",this.PRIVATE.inputKeydownHandler)},click:t=>this.open=!0,input:this.PRIVATE.filterInput}),this.UTIL.registerListeners(window,{scroll:t=>this.open=!1})},"options.selected":t=>{let e=t.detail.options[0];this.inputElement.value=e.value,this.PRIVATE.filterInput(),this.emit("option.selected",e.displayElement)}})}static get observedAttributes(){return[...AuthorMenuElement.observedAttributes,"case-sensitive"]}get value(){return this.inputElement.value}add(t,e){this.optionsElement.addOption(t,e)}clear(){this.inputElement.value="",this.PRIVATE.showAllOptions()}focus(){this.inputElement.focus()}inject(t,e,s){this.PRIVATE.injected||(t.slot="input",t.id=s,this.UTIL.defineProperty("inputElement",{readonly:!0,default:t}),this.appendChild(this.inputElement),super.inject(e))}}return customElements.define("author-datalist",t),t}();
//# sourceMappingURL=author-datalist.min.js.map
