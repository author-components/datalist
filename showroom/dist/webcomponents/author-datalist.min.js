var AuthorDatalistElement=function(){"use strict";window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-datalist> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base")),function(){let t=Array.from(new Set(["author-menu","author-options","author-option"])).filter(t=>!customElements.get(t));t.length>0&&(console.error(`[ERROR] <author-datalist> Required dependenc${1!==t.length?"ies":"y"} not found: ${t.map(t=>`<${t}>`).join(", ").replace(", "+t[t.length-1]," and "+t[t.length-1])}`),t.forEach((t,e)=>console.info(`${e+1}. <${t}> is available at ${"https://github.com/author-elements/datalist".replace("datalist",t.replace("author-",""))}`)))}();class t extends AuthorMenuElement{constructor(){super('<template><style>@charset "UTF-8"; :host{display:inline-flex;max-width:100%}:host *,:host :after,:host :before{box-sizing:border-box}:host ::slotted(author-options){height:0;overflow:hidden}:host([open]) ::slotted(author-options){height:auto}author-datalist{display:inline-flex;max-width:100%}author-datalist *,author-datalist :after,author-datalist :before{box-sizing:border-box}author-datalist author-options{height:0;overflow:hidden}author-datalist[open] author-options{height:auto}</style><slot name="afterbegin"></slot><slot name="beforeinput"></slot><slot name="input"></slot><slot name="afterinput"></slot><slot name="beforeselectedoptions"></slot><slot name="selectedoptions"></slot><slot name="afterselectedoptions"></slot><slot name="beforeoptions"></slot><slot name="options"></slot><slot name="afteroptions"></slot><slot name="beforeend"></slot></template>'),this.UTIL.defineProperties({clickCount:{private:!0,default:0}}),this.UTIL.definePrivateMethods({find:t=>Array.from(this.options).filter(e=>{let o=this.hasAttribute("case-sensitive")?e.value:e.value.toLowerCase(),i=this.hasAttribute("case-sensitive")?e.text:e.text.toLowerCase();return t=this.hasAttribute("case-sensitive")?t:t.toLowerCase(),o.indexOf(t)>=0||i.indexOf(t)>=0}),hideAllOptions:()=>Array.from(this.options).forEach(t=>t.setAttribute("hidden","")),inputFocusHandler:t=>{this.inputElement.addEventListener("keydown",this.PRIVATE.inputKeydownHandler)},inputKeydownHandler:t=>{if(!this.open)return this.PRIVATE.showAllOptions(),void(this.open=!0);this.PRIVATE.keydownHandler(t)},showAllOptions:()=>Array.from(this.options).forEach(t=>t.removeAttribute("hidden"))}),this.UTIL.registerListeners(this,{connected:()=>{this.inputElement.addEventListener("focus",this.PRIVATE.inputFocusHandler),this.UTIL.registerListeners(this.inputElement,{blur:t=>{this.PRIVATE.clickCount=0,this.inputElement.removeEventListener("keydown",this.PRIVATE.inputKeydownHandler)},click:t=>{this.PRIVATE.clickCount++,2===this.PRIVATE.clickCount&&(this.PRIVATE.showAllOptions(),this.open=!0)},input:t=>{this.PRIVATE.hideAllOptions();let e=this.inputElement.value;if(!e)return;let o=this.PRIVATE.find(e);if(o.length)return o.forEach(t=>t.removeAttribute("hidden")),void(this.open=!0);this.open&&(this.open=!1),this.PRIVATE.hideAllOptions()}})},disconnected:()=>{this.inputElement.removeEventListener("focus",this.PRIVATE.inputFocusHandler)},"options.selected":t=>this.inputElement.value=t.detail.options[0].value})}static get observedAttributes(){return[...AuthorMenuElement.observedAttributes,"case-sensitive"]}get value(){return this.inputElement.value}add(t,e){this.optionsElement.addOption(t,e)}inject(t,e,o){this.PRIVATE.injected||(t.slot="input",t.id=o,this.UTIL.defineProperty("inputElement",{readonly:!0,default:t}),this.appendChild(this.inputElement),super.inject(e))}}return customElements.define("author-datalist",t),t}();
//# sourceMappingURL=author-datalist.min.js.map
